{
    "LOGIN_USER": "SELECT id, f_name, l_name, email, logon_id, last_logged_on, is_admin, status_id FROM person WHERE logon_id = :1 AND password = :2;",
    "UPDATE_LAST_LOGON": "UPDATE person SET last_logged_on = CURRENT_TIMESTAMP WHERE id = :1;",
    "SEARCH_BOOKS_PUB": "SELECT bk.*, auth.id as author_id, auth.name AS author, awd.id as award_id, awd.name AS award, fmt.id as format_id, fmt.type AS format, gnr.id as genre_id, gnr.type AS genre FROM (SELECT bk.*, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id) AS total_copies, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id AND borrow_status_id = 1) AS available_copies FROM (SELECT publishDate, rating, likedPercent, bk.id, title, series, description, isbn, edition, pages, numRatings, coverImg, price, bk.lang_id, lang.name as lang, bk.publisher_id, pub.name as pub_name FROM book bk LEFT OUTER JOIN publisher pub ON pub.id = bk.publisher_id LEFT OUTER JOIN language lang ON lang.id = bk.lang_id  WHERE (LOWER(title) LIKE :1 OR LOWER(description) LIKE :2) AND lang_id = :3 ORDER BY 1 DESC LIMIT :4, :5) bk ) bk   LEFT OUTER JOIN book_author bauth on bk.id = bauth.book_id    LEFT OUTER JOIN author auth on bauth.author_id = auth.id    LEFT OUTER JOIN book_award bawd on bk.id = bawd.book_id    LEFT OUTER JOIN award awd on bawd.award_id = awd.id    LEFT OUTER JOIN book_format bfmt on bk.id = bfmt.book_id    LEFT OUTER JOIN format fmt on bfmt.format_id = fmt.id    LEFT OUTER JOIN book_genre bgnr on bk.id = bgnr.book_id    LEFT OUTER JOIN genre gnr on bgnr.genre_id = gnr.id;",
    "SEARCH_BOOKS_RTG": "SELECT bk.*, auth.id as author_id, auth.name AS author, awd.id as award_id, awd.name AS award, fmt.id as format_id, fmt.type AS format, gnr.id as genre_id, gnr.type AS genre FROM (SELECT bk.*, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id) AS total_copies, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id AND borrow_status_id = 1) AS available_copies FROM (SELECT publishDate, rating, likedPercent, bk.id, title, series, description, isbn, edition, pages, numRatings, coverImg, price, bk.lang_id, lang.name as lang, bk.publisher_id, pub.name as pub_name FROM book bk LEFT OUTER JOIN publisher pub ON pub.id = bk.publisher_id LEFT OUTER JOIN language lang ON lang.id = bk.lang_id  WHERE (LOWER(title) LIKE :1 OR LOWER(description) LIKE :2) AND lang_id = :3 ORDER BY 2 DESC LIMIT :4, :5) bk ) bk   LEFT OUTER JOIN book_author bauth on bk.id = bauth.book_id    LEFT OUTER JOIN author auth on bauth.author_id = auth.id    LEFT OUTER JOIN book_award bawd on bk.id = bawd.book_id    LEFT OUTER JOIN award awd on bawd.award_id = awd.id    LEFT OUTER JOIN book_format bfmt on bk.id = bfmt.book_id    LEFT OUTER JOIN format fmt on bfmt.format_id = fmt.id    LEFT OUTER JOIN book_genre bgnr on bk.id = bgnr.book_id    LEFT OUTER JOIN genre gnr on bgnr.genre_id = gnr.id;",
    "SEARCH_BOOKS_LKD": "SELECT bk.*, auth.id as author_id, auth.name AS author, awd.id as award_id, awd.name AS award, fmt.id as format_id, fmt.type AS format, gnr.id as genre_id, gnr.type AS genre FROM (SELECT bk.*, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id) AS total_copies, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id AND borrow_status_id = 1) AS available_copies FROM (SELECT publishDate, rating, likedPercent, bk.id, title, series, description, isbn, edition, pages, numRatings, coverImg, price, bk.lang_id, lang.name as lang, bk.publisher_id, pub.name as pub_name FROM book bk LEFT OUTER JOIN publisher pub ON pub.id = bk.publisher_id LEFT OUTER JOIN language lang ON lang.id = bk.lang_id  WHERE (LOWER(title) LIKE :1 OR LOWER(description) LIKE :2) AND lang_id = :3 ORDER BY 3 DESC LIMIT :4, :5) bk ) bk   LEFT OUTER JOIN book_author bauth on bk.id = bauth.book_id    LEFT OUTER JOIN author auth on bauth.author_id = auth.id    LEFT OUTER JOIN book_award bawd on bk.id = bawd.book_id    LEFT OUTER JOIN award awd on bawd.award_id = awd.id    LEFT OUTER JOIN book_format bfmt on bk.id = bfmt.book_id    LEFT OUTER JOIN format fmt on bfmt.format_id = fmt.id    LEFT OUTER JOIN book_genre bgnr on bk.id = bgnr.book_id    LEFT OUTER JOIN genre gnr on bgnr.genre_id = gnr.id;",
    "SEARCH_RECOMMENDED_BOOKS_PUB": "SELECT bk.*, auth.id as author_id, auth.name AS author, awd.id as award_id, awd.name AS award, fmt.id as format_id, fmt.type AS format, gnr.id as genre_id, gnr.type AS genre FROM (SELECT bk.*, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id) AS total_copies, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id AND borrow_status_id = 1) AS available_copies FROM (SELECT publishDate, rating, likedPercent, bk.id, title, series, description, isbn, edition, pages, numRatings, coverImg, price, bk.lang_id, lang.name as lang, bk.publisher_id, pub.name as pub_name FROM book bk LEFT OUTER JOIN publisher pub ON pub.id = bk.publisher_id LEFT OUTER JOIN language lang ON lang.id = bk.lang_id  WHERE (LOWER(title) LIKE :1 OR LOWER(description) LIKE :2) AND lang_id = :3 ORDER BY RANDOM(), publishDate DESC LIMIT :4, :5) bk ) bk   LEFT OUTER JOIN book_author bauth on bk.id = bauth.book_id    LEFT OUTER JOIN author auth on bauth.author_id = auth.id    LEFT OUTER JOIN book_award bawd on bk.id = bawd.book_id    LEFT OUTER JOIN award awd on bawd.award_id = awd.id    LEFT OUTER JOIN book_format bfmt on bk.id = bfmt.book_id    LEFT OUTER JOIN format fmt on bfmt.format_id = fmt.id    LEFT OUTER JOIN book_genre bgnr on bk.id = bgnr.book_id    LEFT OUTER JOIN genre gnr on bgnr.genre_id = gnr.id;",
    "SEARCH_RECOMMENDED_BOOKS_RTG": "SELECT bk.*, auth.id as author_id, auth.name AS author, awd.id as award_id, awd.name AS award, fmt.id as format_id, fmt.type AS format, gnr.id as genre_id, gnr.type AS genre FROM (SELECT bk.*, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id) AS total_copies, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id AND borrow_status_id = 1) AS available_copies FROM (SELECT publishDate, rating, likedPercent, bk.id, title, series, description, isbn, edition, pages, numRatings, coverImg, price, bk.lang_id, lang.name as lang, bk.publisher_id, pub.name as pub_name FROM book bk LEFT OUTER JOIN publisher pub ON pub.id = bk.publisher_id LEFT OUTER JOIN language lang ON lang.id = bk.lang_id  WHERE (LOWER(title) LIKE :1 OR LOWER(description) LIKE :2) AND lang_id = :3 ORDER BY RANDOM(), rating DESC LIMIT :4, :5) bk ) bk   LEFT OUTER JOIN book_author bauth on bk.id = bauth.book_id    LEFT OUTER JOIN author auth on bauth.author_id = auth.id    LEFT OUTER JOIN book_award bawd on bk.id = bawd.book_id    LEFT OUTER JOIN award awd on bawd.award_id = awd.id    LEFT OUTER JOIN book_format bfmt on bk.id = bfmt.book_id    LEFT OUTER JOIN format fmt on bfmt.format_id = fmt.id    LEFT OUTER JOIN book_genre bgnr on bk.id = bgnr.book_id    LEFT OUTER JOIN genre gnr on bgnr.genre_id = gnr.id;",
    "SEARCH_RECOMMENDED_BOOKS_LKD": "SELECT bk.*, auth.id as author_id, auth.name AS author, awd.id as award_id, awd.name AS award, fmt.id as format_id, fmt.type AS format, gnr.id as genre_id, gnr.type AS genre FROM (SELECT bk.*, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id) AS total_copies, (SELECT COUNT(book_id) FROM book_copy bc WHERE bc.book_id = bk.id AND borrow_status_id = 1) AS available_copies FROM (SELECT publishDate, rating, likedPercent, bk.id, title, series, description, isbn, edition, pages, numRatings, coverImg, price, bk.lang_id, lang.name as lang, bk.publisher_id, pub.name as pub_name FROM book bk LEFT OUTER JOIN publisher pub ON pub.id = bk.publisher_id LEFT OUTER JOIN language lang ON lang.id = bk.lang_id  WHERE (LOWER(title) LIKE :1 OR LOWER(description) LIKE :2) AND lang_id = :3 ORDER BY RANDOM(), likedPercent DESC LIMIT :4, :5) bk ) bk   LEFT OUTER JOIN book_author bauth on bk.id = bauth.book_id    LEFT OUTER JOIN author auth on bauth.author_id = auth.id    LEFT OUTER JOIN book_award bawd on bk.id = bawd.book_id    LEFT OUTER JOIN award awd on bawd.award_id = awd.id    LEFT OUTER JOIN book_format bfmt on bk.id = bfmt.book_id    LEFT OUTER JOIN format fmt on bfmt.format_id = fmt.id    LEFT OUTER JOIN book_genre bgnr on bk.id = bgnr.book_id    LEFT OUTER JOIN genre gnr on bgnr.genre_id = gnr.id;",
    "LANGUAGES": "SELECT id, name FROM language WHERE name <> '';",
    "GET_BOOK_AVAILABILITY": "SELECT id FROM book_copy WHERE book_id = :1 AND borrow_status_id = 1 LIMIT 1;",
    "CREATE_BORROW_RECORD": "INSERT INTO borrowal (book_copy_id, person_id, borrow_date, return_date) VALUES (:1, :2, DATE(), DATE(DATE(), '+32 days'));",
    "UPDATE_BORROW_STATUS": "UPDATE book_copy SET borrow_status_id = :1 WHERE id = :2;",
    "BORROWALS_MEMBER": "SELECT bk.id as book_id, bk.title, bk.coverImg, lang.name as lang, copy.id as book_copy_id, STRFTIME('%m/%d/%Y', bw.borrow_date) AS borrow_date, STRFTIME('%m/%d/%Y', bw.return_date) AS return_date, copy.borrow_status_id, bs.status, bk.* FROM borrowal bw\tINNER JOIN book_copy copy ON copy.id = bw.book_copy_id  INNER JOIN borrow_status bs ON bs.id = copy.borrow_status_id INNER JOIN book bk ON bk.id = copy.book_id LEFT OUTER JOIN language lang on lang.id = bk.lang_id WHERE bw.person_id = :1 ORDER BY return_date;",
    "UPDATE_BOOK_COPY_BORROW_STATUS": "UPDATE book_copy SET borrow_status_id = :1 WHERE id = :2;",
    "CANCEL_BORROW": "DELETE FROM borrowal WHERE book_copy_id = :1 and person_id = :2;"
}